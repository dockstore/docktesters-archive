<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [DOCKTESTERS] Help understand the small discrepancies in Sanger pipeline with GNOS VCF (99.9905% accuracy)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:docktesters%40lists.icgc.org?Subject=Re%3A%20%5BDOCKTESTERS%5D%20Help%20understand%20the%20small%20discrepancies%20in%20Sanger%0A%20pipeline%20with%20GNOS%20VCF%20%2899.9905%25%20accuracy%29&In-Reply-To=%3C0F84ED6166CE664E8563B61CB2ECB98CCBB47002%40exmb2.ad.oicr.on.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000193.html">
   <LINK REL="Next"  HREF="000195.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[DOCKTESTERS] Help understand the small discrepancies in Sanger pipeline with GNOS VCF (99.9905% accuracy)</H1>
    <B>Christina Yung</B> 
    <A HREF="mailto:docktesters%40lists.icgc.org?Subject=Re%3A%20%5BDOCKTESTERS%5D%20Help%20understand%20the%20small%20discrepancies%20in%20Sanger%0A%20pipeline%20with%20GNOS%20VCF%20%2899.9905%25%20accuracy%29&In-Reply-To=%3C0F84ED6166CE664E8563B61CB2ECB98CCBB47002%40exmb2.ad.oicr.on.ca%3E"
       TITLE="[DOCKTESTERS] Help understand the small discrepancies in Sanger pipeline with GNOS VCF (99.9905% accuracy)">Christina.Yung at oicr.on.ca
       </A><BR>
    <I>Mon Dec 12 10:24:30 EST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="000193.html">[DOCKTESTERS] Help understand the small discrepancies in Sanger pipeline with GNOS VCF (99.9905% accuracy)
</A></li>
        <LI>Next message: <A HREF="000195.html">[DOCKTESTERS] Help understand the small discrepancies in Sanger	pipeline with GNOS VCF (99.9905% accuracy)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#194">[ date ]</a>
              <a href="thread.html#194">[ thread ]</a>
              <a href="subject.html#194">[ subject ]</a>
              <a href="author.html#194">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks to Miguel for all the great work, and for giving an update on the tech call.

Consolidating some comments, I think we can conclude that a docker has passed testing when it produces

1.       The same outputs as the production runs (SNVs, indels, SVs &#8211; somatic + germline in some cases), or

2.       Outputs with very small discrepancies from the production runs, plus an explanation from the workflow author on the discrepancies.  Workflow authors need to point out steps that are stochastic, or changes in the docker that introduce any non-random differences.

Best,
Christina

From: docktesters-bounces+christina.yung=<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">oicr.on.ca at lists.icgc.org</A> [mailto:docktesters-bounces+christina.yung=<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">oicr.on.ca at lists.icgc.org</A>] On Behalf Of Miguel Vazquez
Sent: Monday, December 12, 2016 9:56 AM
To: Keiran Raine
Cc: <A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">docktesters at lists.icgc.org</A>
Subject: Re: [DOCKTESTERS] Help understand the small discrepancies in Sanger pipeline with GNOS VCF (99.9905% accuracy)

Hi Keiran,
I don't know how to check the pindel and ASCAT VCF's. I have not saved the docker image. If you give me detailed instructions I can save it on my next run and get them for you.
As for the difficulties on this donor (just my luck to choose this one at random), I'm running the pipeline on another donor, perhaps it will show no discrepancies, or perhaps its a better subject for our inquiries. We should see soon, I hope; it's 4 days into the analysis.
Best
Miguel

On Mon, Dec 12, 2016 at 3:38 PM, Keiran Raine &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">kr2 at sanger.ac.uk</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">kr2 at sanger.ac.uk</A>&gt;&gt; wrote:
Hi,

I'd need access to the full set of result files from the run but can you confirm the pindel and ASCAT VCF's exactly the same?  Both feed into caveman analysis.

ASCAT is the least stable of the algorithms as it randomly assigns the B-allele and if this donor is known to have an unusual copynumber/rearrangment state it is likely to be the cause (I wouldn't consider a sample like this to particularly good for testing though).

What were the results on the other samples, I assume cleaner data has also been run?

Regards,

Keiran Raine
Principal Bioinformatician
Cancer Genome Project
Wellcome Trust Sanger Institute

<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">kr2 at sanger.ac.uk</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">kr2 at sanger.ac.uk</A>&gt;
Tel:+44 (0)1223 834244 Ext: 4983&lt;tel:+44%201223%20834244&gt;
Office: H104

On 12 Dec 2016, at 14:12, Brian O'Connor &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">Brian.OConnor at oicr.on.ca</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">Brian.OConnor at oicr.on.ca</A>&gt;&gt; wrote:

Hi Francis,

I agree with you, I think Miguel is showing what this group needs to show, that someone else can run the tools from Dockstore, have that be successful, and the results are largely in agreement with previous results (or duplicate runs).  I think maybe a statement about the possibility of stochastic results in the README for each tool would be sufficient.  This could be something that Keiran can craft/comment for Sanger&#8217;s pipeline since he&#8217;s in the best position for this one.

Brian


On Dec 12, 2016, at 7:38 AM, Francis Ouellette &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">francis at oicr.on.ca</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">francis at oicr.on.ca</A>&gt;&gt; wrote:

I know I'm not suppose to be there (and I'm not :-), but one slippery slope I want this dockerstore testing working group to be wary about (and Christina, this is really directed at you, chairing the discussion today) is that the request from Lincoln for this to reproduce what we are doing is fine, but I don't think it is this working group's task to reproduce and explain all of the discrepancies we see. I don't think we ever saw that kind of data from the people that ran the original workflow.

If this group can ascertain that a dock store container basically works, I think we need to call that test a success, and move on to the next one. What Miguel is suggesting/asking below is very good, but I could see this becoming into a very slippery slope, which I would advise us against slipping down.

Anyway, going off to my day off,

Have a ghre at discussion,

Francis

--
B.F. Francis Ouellette          <A HREF="http://oicr.on.ca/person/francis-ouellette">http://oicr.on.ca/person/francis-ouellette</A>

On Dec 12, 2016, at 05:44, Miguel Vazquez &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&gt;&gt; wrote:


Dear all,

I was wondering if someone here was acquainted with the Sanger workflow and could help explain these discrepancies. I've skimmed through the code, and it seems like uses EM but I didn't find anything random in it, such as during initialization, which was my initial guess. The other thing I though is that when it splits the work for parallel processing it might choose a different number of splits to accommodate the number of CPUs, and that this might affect the calculations.

Is there someone here that could help shed some light? As soon as some other tests finish I'll be running the process again, but since it takes so long perhaps a little insight would help.

Best regards

Miguel



On Mon, Dec 5, 2016 at 1:41 PM, Miguel Vazquez &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&gt;&gt; wrote:
Dear all,

The Sanger pipeline completed, after about 2 weeks of computing, for donor DO50311

The results are the following:

Comparison for DO50311 using Sanger
---
Common: 156299
Extra: 1
   - Example: Y:58885197:G
Missing: 14
   - Example: 1:102887902:T,1:143165228:G,16:87047601:C


The donor results for DKFZ yielded

Comparison for DO50311 using DKFZ
---
Common: 51087
Extra: 0
Missing: 0


In both cases I'm comparing agains the VCF file downloaded from GNOS. I've updated the information here

<A HREF="https://wiki.oicr.on.ca/display/PANCANCER/Workflow+Testing+Data">https://wiki.oicr.on.ca/display/PANCANCER/Workflow+Testing+Data</A>


Best regards

Miguel

_______________________________________________
docktesters mailing list
<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">docktesters at lists.icgc.org</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">docktesters at lists.icgc.org</A>&gt;
<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">https://lists.icgc.org/mailman/listinfo/docktesters</A>



-- The Wellcome Trust Sanger Institute is operated by Genome Research Limited, a charity registered in England with number 1021457 and a company registered in England with number 2742969, whose registered office is 215 Euston Road, London, NW1 2BE.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.icgc.org/mailman/private/docktesters/attachments/20161212/0f9befe6/attachment-0001.html">https://lists.icgc.org/mailman/private/docktesters/attachments/20161212/0f9befe6/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000193.html">[DOCKTESTERS] Help understand the small discrepancies in Sanger pipeline with GNOS VCF (99.9905% accuracy)
</A></li>
	<LI>Next message: <A HREF="000195.html">[DOCKTESTERS] Help understand the small discrepancies in Sanger	pipeline with GNOS VCF (99.9905% accuracy)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#194">[ date ]</a>
              <a href="thread.html#194">[ thread ]</a>
              <a href="subject.html#194">[ subject ]</a>
              <a href="author.html#194">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.icgc.org/mailman/listinfo/docktesters">More information about the docktesters
mailing list</a><br>
</body></html>
