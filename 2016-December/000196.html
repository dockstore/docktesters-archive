<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [DOCKTESTERS] Help understand the small discrepancies in Sanger pipeline with GNOS VCF (99.9905% accuracy)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:docktesters%40lists.icgc.org?Subject=Re%3A%20%5BDOCKTESTERS%5D%20Help%20understand%20the%20small%20discrepancies%20in%20Sanger%0A%20pipeline%20with%20GNOS%20VCF%20%2899.9905%25%20accuracy%29&In-Reply-To=%3CCA%2Bdx8maGxpG2efEO5ey%3Df4inPtoQU%2BkrB7YMVoDHu-bBhUSM8w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000195.html">
   <LINK REL="Next"  HREF="000191.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[DOCKTESTERS] Help understand the small discrepancies in Sanger pipeline with GNOS VCF (99.9905% accuracy)</H1>
    <B>Miguel Vazquez</B> 
    <A HREF="mailto:docktesters%40lists.icgc.org?Subject=Re%3A%20%5BDOCKTESTERS%5D%20Help%20understand%20the%20small%20discrepancies%20in%20Sanger%0A%20pipeline%20with%20GNOS%20VCF%20%2899.9905%25%20accuracy%29&In-Reply-To=%3CCA%2Bdx8maGxpG2efEO5ey%3Df4inPtoQU%2BkrB7YMVoDHu-bBhUSM8w%40mail.gmail.com%3E"
       TITLE="[DOCKTESTERS] Help understand the small discrepancies in Sanger pipeline with GNOS VCF (99.9905% accuracy)">miguel.vazquez at cnio.es
       </A><BR>
    <I>Mon Dec 12 11:16:20 EST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="000195.html">[DOCKTESTERS] Help understand the small discrepancies in Sanger	pipeline with GNOS VCF (99.9905% accuracy)
</A></li>
        <LI>Next message: <A HREF="000191.html">[DOCKTESTERS] Help understand the small discrepancies in Sanger	pipeline with GNOS VCF (99.9905% accuracy)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#196">[ date ]</a>
              <a href="thread.html#196">[ thread ]</a>
              <a href="subject.html#196">[ subject ]</a>
              <a href="author.html#196">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Keiran, that is what Christina asked us to do,so I'll check it next

On Dec 12, 2016 4:38 PM, &quot;Keiran Raine&quot; &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">kr2 at sanger.ac.uk</A>&gt; wrote:

&gt;<i> Hi Miguel,
</I>&gt;<i>
</I>&gt;<i> ASCAT is *.somatic.cnv.vcf.gz
</I>&gt;<i>
</I>&gt;<i> Pindel is *.somatic.indel.vcf.gz
</I>&gt;<i>
</I>&gt;<i> Are you not using vcftools to do comaprisons on all generated VCF files?
</I>&gt;<i>
</I>&gt;<i> All variants:
</I>&gt;<i> vcftools --gzvcf input_file1.vcf.gz --gzdiff input_file2.vcf.gz
</I>&gt;<i> --diff-site --out in1_v_in2
</I>&gt;<i>
</I>&gt;<i> Passed variants:
</I>&gt;<i> vcftools --gzvcf input_file1.vcf.gz --gzdiff input_file2.vcf.gz
</I>&gt;<i> --diff-site --out in1_v_in2 --remove-filtered-all
</I>&gt;<i>
</I>&gt;<i> (unfortunately a sort instability in Pindel may require the indel vcf to
</I>&gt;<i> be resorted first on: chr, pos, ref, alt)
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Keiran Raine
</I>&gt;<i> Principal Bioinformatician
</I>&gt;<i> Cancer Genome Project
</I>&gt;<i> Wellcome Trust Sanger Institute
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">kr2 at sanger.ac.uk</A>
</I>&gt;<i> Tel:+44 (0)1223 834244 Ext: 4983 &lt;+44%201223%20834244&gt;
</I>&gt;<i> Office: H104
</I>&gt;<i>
</I>&gt;<i> On 12 Dec 2016, at 14:56, Miguel Vazquez &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> Hi Keiran,
</I>&gt;<i>
</I>&gt;<i> I don't know how to check the pindel and ASCAT VCF's. I have not saved the
</I>&gt;<i> docker image. If you give me detailed instructions I can save it on my next
</I>&gt;<i> run and get them for you.
</I>&gt;<i>
</I>&gt;<i> As for the difficulties on this donor (just my luck to choose this one at
</I>&gt;<i> random), I'm running the pipeline on another donor, perhaps it will show no
</I>&gt;<i> discrepancies, or perhaps its a better subject for our inquiries. We should
</I>&gt;<i> see soon, I hope; it's 4 days into the analysis.
</I>&gt;<i>
</I>&gt;<i> Best
</I>&gt;<i>
</I>&gt;<i> Miguel
</I>&gt;<i>
</I>&gt;<i> On Mon, Dec 12, 2016 at 3:38 PM, Keiran Raine &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">kr2 at sanger.ac.uk</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'd need access to the full set of result files from the run but can you
</I>&gt;&gt;<i> confirm the pindel and ASCAT VCF's exactly the same?  Both feed into
</I>&gt;&gt;<i> caveman analysis.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ASCAT is the least stable of the algorithms as it randomly assigns the
</I>&gt;&gt;<i> B-allele and if this donor is known to have an unusual
</I>&gt;&gt;<i> copynumber/rearrangment state it is likely to be the cause (I wouldn't
</I>&gt;&gt;<i> consider a sample like this to particularly good for testing though).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What were the results on the other samples, I assume cleaner data has
</I>&gt;&gt;<i> also been run?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Regards,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Keiran Raine
</I>&gt;&gt;<i> Principal Bioinformatician
</I>&gt;&gt;<i> Cancer Genome Project
</I>&gt;&gt;<i> Wellcome Trust Sanger Institute
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">kr2 at sanger.ac.uk</A>
</I>&gt;&gt;<i> Tel:+44 (0)1223 834244 Ext: 4983 &lt;+44%201223%20834244&gt;
</I>&gt;&gt;<i> Office: H104
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 12 Dec 2016, at 14:12, Brian O'Connor &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">Brian.OConnor at oicr.on.ca</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi Francis,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I agree with you, I think Miguel is showing what this group needs to
</I>&gt;&gt;<i> show, that someone else can run the tools from Dockstore, have that be
</I>&gt;&gt;<i> successful, and the results are largely in agreement with previous results
</I>&gt;&gt;<i> (or duplicate runs).  I think maybe a statement about the possibility of
</I>&gt;&gt;<i> stochastic results in the README for each tool would be sufficient.  This
</I>&gt;&gt;<i> could be something that Keiran can craft/comment for Sanger&#8217;s pipeline
</I>&gt;&gt;<i> since he&#8217;s in the best position for this one.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Brian
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Dec 12, 2016, at 7:38 AM, Francis Ouellette &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">francis at oicr.on.ca</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I know I'm not suppose to be there (and I'm not :-), but one slippery
</I>&gt;&gt;<i> slope I want this dockerstore testing working group to be wary about (and
</I>&gt;&gt;<i> Christina, this is really directed at you, chairing the discussion today)
</I>&gt;&gt;<i> is that the request from Lincoln for this to reproduce what we are doing is
</I>&gt;&gt;<i> fine, but I don't think it is this working group's task to reproduce and
</I>&gt;&gt;<i> explain all of the discrepancies we see. I don't think we ever saw that
</I>&gt;&gt;<i> kind of data from the people that ran the original workflow.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If this group can ascertain that a dock store container basically works,
</I>&gt;&gt;<i> I think we need to call that test a success, and move on to the next one.
</I>&gt;&gt;<i> What Miguel is suggesting/asking below is very good, but I could see this
</I>&gt;&gt;<i> becoming into a very slippery slope, which I would advise us against
</I>&gt;&gt;<i> slipping down.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Anyway, going off to my day off,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Have a ghre at discussion,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Francis
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> B.F. Francis Ouellette          <A HREF="http://oicr.on.ca/per">http://oicr.on.ca/per</A>
</I>&gt;&gt;<i> son/francis-ouellette
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Dec 12, 2016, at 05:44, Miguel Vazquez &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Dear all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I was wondering if someone here was acquainted with the Sanger workflow
</I>&gt;&gt;<i> and could help explain these discrepancies. I've skimmed through the code,
</I>&gt;&gt;<i> and it seems like uses EM but I didn't find anything random in it, such as
</I>&gt;&gt;<i> during initialization, which was my initial guess. The other thing I though
</I>&gt;&gt;<i> is that when it splits the work for parallel processing it might choose a
</I>&gt;&gt;<i> different number of splits to accommodate the number of CPUs, and that this
</I>&gt;&gt;<i> might affect the calculations.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is there someone here that could help shed some light? As soon as some
</I>&gt;&gt;<i> other tests finish I'll be running the process again, but since it takes so
</I>&gt;&gt;<i> long perhaps a little insight would help.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Best regards
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Miguel
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Mon, Dec 5, 2016 at 1:41 PM, Miguel Vazquez &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;<i> Dear all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The Sanger pipeline completed, after about 2 weeks of computing, for
</I>&gt;&gt;<i> donor DO50311
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The results are the following:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Comparison for DO50311 using Sanger
</I>&gt;&gt;<i> ---
</I>&gt;&gt;<i> Common: 156299
</I>&gt;&gt;<i> Extra: 1
</I>&gt;&gt;<i>    - Example: Y:58885197:G
</I>&gt;&gt;<i> Missing: 14
</I>&gt;&gt;<i>    - Example: 1:102887902:T,1:143165228:G,16:87047601:C
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The donor results for DKFZ yielded
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Comparison for DO50311 using DKFZ
</I>&gt;&gt;<i> ---
</I>&gt;&gt;<i> Common: 51087
</I>&gt;&gt;<i> Extra: 0
</I>&gt;&gt;<i> Missing: 0
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In both cases I'm comparing agains the VCF file downloaded from GNOS.
</I>&gt;&gt;<i> I've updated the information here
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://wiki.oicr.on.ca/display/PANCANCER/Workflow+Testing+Data">https://wiki.oicr.on.ca/display/PANCANCER/Workflow+Testing+Data</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Best regards
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Miguel
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> docktesters mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">docktesters at lists.icgc.org</A>
</I>&gt;&gt;<i> <A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">https://lists.icgc.org/mailman/listinfo/docktesters</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -- The Wellcome Trust Sanger Institute is operated by Genome Research
</I>&gt;&gt;<i> Limited, a charity registered in England with number 1021457 and a company
</I>&gt;&gt;<i> registered in England with number 2742969, whose registered office is 215
</I>&gt;&gt;<i> Euston Road, London, NW1 2BE.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- The Wellcome Trust Sanger Institute is operated by Genome Research
</I>&gt;<i> Limited, a charity registered in England with number 1021457 and a company
</I>&gt;<i> registered in England with number 2742969, whose registered office is 215
</I>&gt;<i> Euston Road, London, NW1 2BE.
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.icgc.org/mailman/private/docktesters/attachments/20161212/e7505ddc/attachment-0001.html">https://lists.icgc.org/mailman/private/docktesters/attachments/20161212/e7505ddc/attachment-0001.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000195.html">[DOCKTESTERS] Help understand the small discrepancies in Sanger	pipeline with GNOS VCF (99.9905% accuracy)
</A></li>
	<LI>Next message: <A HREF="000191.html">[DOCKTESTERS] Help understand the small discrepancies in Sanger	pipeline with GNOS VCF (99.9905% accuracy)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#196">[ date ]</a>
              <a href="thread.html#196">[ thread ]</a>
              <a href="subject.html#196">[ subject ]</a>
              <a href="author.html#196">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.icgc.org/mailman/listinfo/docktesters">More information about the docktesters
mailing list</a><br>
</body></html>
