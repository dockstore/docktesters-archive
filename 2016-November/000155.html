<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [DOCKTESTERS] Preliminary results for overlap between testing and original VCF
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:docktesters%40lists.icgc.org?Subject=Re%3A%20%5BDOCKTESTERS%5D%20Preliminary%20results%20for%20overlap%20between%20testing%0A%20and%20original%20VCF&In-Reply-To=%3C4D04C9B9-76D1-4F4D-9A29-88449AF11F5B%40oicr.on.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000154.html">
   <LINK REL="Next"  HREF="000156.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[DOCKTESTERS] Preliminary results for overlap between testing and original VCF</H1>
    <B>Francis Ouellette</B> 
    <A HREF="mailto:docktesters%40lists.icgc.org?Subject=Re%3A%20%5BDOCKTESTERS%5D%20Preliminary%20results%20for%20overlap%20between%20testing%0A%20and%20original%20VCF&In-Reply-To=%3C4D04C9B9-76D1-4F4D-9A29-88449AF11F5B%40oicr.on.ca%3E"
       TITLE="[DOCKTESTERS] Preliminary results for overlap between testing and original VCF">francis at oicr.on.ca
       </A><BR>
    <I>Mon Nov 21 07:31:50 EST 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="000154.html">[DOCKTESTERS] Preliminary results for overlap between testing and original VCF
</A></li>
        <LI>Next message: <A HREF="000156.html">[DOCKTESTERS] DOCKTESTERS update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#155">[ date ]</a>
              <a href="thread.html#155">[ thread ]</a>
              <a href="subject.html#155">[ subject ]</a>
              <a href="author.html#155">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Miguel,

I&#8217;ve updated the wiki with your results, and added another link (on the same page)
to the google doc, where you describe what you did get USeq to work.

To all:

Christina has commented in an e-mail that we had what we needed to test
pcawg-bwa-mem-workflow pipeline, as well the pcawg-sanger-cgp-workflow
pieline.

Adam/Alex: Any advances in either of these fronts?

Talk to some of you in 90 min.

@bffo


From: Christina Yung &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">Christina.Yung at oicr.on.ca</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">Christina.Yung at oicr.on.ca</A>&gt;&gt;

Thank you, Miguel.  These results are very encouraging.  I just have a suggestion: since we&#8217;re comparing strictly the outputs of the DKFZ/EMBL pipeline, we should compare the pre-filtered results, i.e.. ~51K calls.  We&#8217;ll later compare if the filtering steps give similar results as well when the dockers become ready.

For testing BWA-Mem, Keiran has documented the steps to convert aligned BAM to unaligned:
<A HREF="https://wiki.oicr.on.ca/display/PANCANCER/Preparing+paired-end+data+for+upload">https://wiki.oicr.on.ca/display/PANCANCER/Preparing+paired-end+data+for+upload</A>

For Sanger docker, I believe Denis has tested the new version and reported that the problem is fixed.




On Nov 21, 2016, at 04:07, Miguel Vazquez &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&gt;&gt; wrote:

Thanks Denis, I'm trying it out now

On Fri, Nov 18, 2016 at 7:18 PM, Denis Yuen &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">Denis.Yuen at oicr.on.ca</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">Denis.Yuen at oicr.on.ca</A>&gt;&gt; wrote:
Hi,

Yes, you're going to want version 2.0.2 of quay.io/pancancer/pcawg-sanger-cgp-workflow&lt;<A HREF="https://dockstore.org/containers/quay.io/pancancer/pcawg-sanger-cgp-workflow">https://dockstore.org/containers/quay.io/pancancer/pcawg-sanger-cgp-workflow</A>&gt; and it should work on DO50311

________________________________
From: docktesters-bounces+denis.yuen=<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">oicr.on.ca at lists.icgc.org</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">oicr.on.ca at lists.icgc.org</A>&gt; [docktesters-bounces+denis.yuen=<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">oicr.on.ca at lists.icgc.org</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">oicr.on.ca at lists.icgc.org</A>&gt;] on behalf of Miguel Vazquez [<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&gt;]
Sent: November 18, 2016 10:06 AM
To: Francis Ouellette
Cc: <A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">docktesters at lists.icgc.org</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">docktesters at lists.icgc.org</A>&gt;; Alysha Moncrieffe
Subject: Re: [DOCKTESTERS] Preliminary results for overlap between testing and original VCF

I've added a description on the google doc. Next week I'll try to put it properly into my scripts so I can run a bunch of these.

What is the status of the Sanger pipeline, is it fixed already?

On Fri, Nov 18, 2016 at 3:37 PM, Francis Ouellette &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">francis at oicr.on.ca</A>&lt;<A HREF="http://redir.aspx/?REF=WSDmaoJ3jmz2tDPVny13duJ4BUlEbh_-y7ecNxPVyIIp6Vk83w_UCAFtYWlsdG86ZnJhbmNpc0BvaWNyLm9uLmNh">http://redir.aspx/?REF=WSDmaoJ3jmz2tDPVny13duJ4BUlEbh_-y7ecNxPVyIIp6Vk83w_UCAFtYWlsdG86ZnJhbmNpc0BvaWNyLm9uLmNh</A>&gt;&gt; wrote:

Great,

Thank you Miguel!  I would call this one a success!

I think we need two such success for each pipeline.

I will update table with this one.

Let&#8217;s get it done for the others. I will send more mail today.

Miguel: I imagine you documented what you did on google doc?

Thank you all,

francis

--
B.F. Francis Ouellette          <A HREF="http://oicr.on.ca/person/francis-ouellette&lt;http://redir.aspx/?REF=0UreupwcTkKW9dPdcAcOZSwr1PCoFogk1pc5rUxKyqwp6Vk83w_UCAFodHRwOi8vb2ljci5vbi5jYS9wZXJzb24vZnJhbmNpcy1vdWVsbGV0dGU.">http://oicr.on.ca/person/francis-ouellette&lt;http://redir.aspx/?REF=0UreupwcTkKW9dPdcAcOZSwr1PCoFogk1pc5rUxKyqwp6Vk83w_UCAFodHRwOi8vb2ljci5vbi5jYS9wZXJzb24vZnJhbmNpcy1vdWVsbGV0dGU.</A>&gt;








On Nov 18, 2016, at 8:48 AM, Miguel Vazquez &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&lt;<A HREF="http://redir.aspx/?REF=Kweh6Zrv2yLYJ6d-A3noRb40KYzhiBDYyhrAJFBs39wp6Vk83w_UCAFtYWlsdG86bWlndWVsLnZhenF1ZXpAY25pby5lcw..">http://redir.aspx/?REF=Kweh6Zrv2yLYJ6d-A3noRb40KYzhiBDYyhrAJFBs39wp6Vk83w_UCAFtYWlsdG86bWlndWVsLnZhenF1ZXpAY25pby5lcw..</A>&gt;&gt; wrote:

Hi again

I've done some more investigating and it turns out that there is a was ignoring the quite obvious 'FILTER' tag. Silly me. Filtering now for mutations that 'PASS' I get

Comparison
----------
Total original (dkfz): 16090
Total this: 16088
Common: 16088
Missing: 2. Example: 10:86361665:T, 3:168842417:G
Extra: 0. Example:

Not a perfect match, but very close!!!!

Best

Miguel


On Fri, Nov 18, 2016 at 2:06 PM, Miguel Vazquez &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&lt;<A HREF="http://redir.aspx/?REF=Kweh6Zrv2yLYJ6d-A3noRb40KYzhiBDYyhrAJFBs39wp6Vk83w_UCAFtYWlsdG86bWlndWVsLnZhenF1ZXpAY25pby5lcw..">http://redir.aspx/?REF=Kweh6Zrv2yLYJ6d-A3noRb40KYzhiBDYyhrAJFBs39wp6Vk83w_UCAFtYWlsdG86bWlndWVsLnZhenF1ZXpAY25pby5lcw..</A>&gt;&gt; wrote:
Dear Francis and friends,

Given that Francis was eager to see some inital estimates on how well the testing where in terms of overlap I have made some advances. Let me show you some of my initial results.

For sample DO50311 with the pipeline from DKFZ (using Delly first to produce the BEDPE file) I get the following result:

Comparison
----------
Total original (dkfz): 16090
Total this: 51087
Common: 16090
Missing: 0. Example:
Extra: 34997. Example: 1:10157:C, 1:725511:A, 1:725971:T, 1:726707:A


Whit means that in the original VCF there are 16K mutations, all of them are found in our new VCF (this), however our new file contains 35K extra mutations. Listed are some examples of extra mutations, going back to our VCF here is a sample line

#CHROM  POS     ID      REF     ALT     QUAL    FILTER  INFO    FORMAT  CONTROL TUMOR
1       725971  .       G       T       .       RE;BL;TAC;HSDEPTH;SBAF;FRQ;VAF  SOMATIC;SNP;AF=0.02,0.03;MQ=57  GT:DP:DP4       0/0:115:60,53,2,0       0/0:114:49,62,0,3

I take it this is a good result. Finding all the reported mutations is a great sign I think, and the extra mutations must be a filtering step that we need to account for. I hope someone can point out from the VCF line above what is it that I need to use for the filtering.

The VCF files I took from a file I have named 'preliminary_final_release.snvs.tgz' from May 30 that contains VCF file with the merged results from all callers. I simply subset the lines for each caller, in this case dkfz. Also the files are listed by aliquote so I have to translate the donor to aliquote ID. I've script this quickly using my Rbbt framework but I'll rewrite it all in bash and add it to my repo of testing scripts at <A HREF="https://github.com/mikisvaz/PCAWG-Docker-Test&lt;http://redir.aspx/?REF=ifG4GCk_l3pNcH7e3HJrfA0cM0Gm2sNaFyX98swizIYp6Vk83w_UCAFodHRwczovL2dpdGh1Yi5jb20vbWlraXN2YXovUENBV0ctRG9ja2VyLVRlc3Q.">https://github.com/mikisvaz/PCAWG-Docker-Test&lt;http://redir.aspx/?REF=ifG4GCk_l3pNcH7e3HJrfA0cM0Gm2sNaFyX98swizIYp6Vk83w_UCAFodHRwczovL2dpdGh1Yi5jb20vbWlraXN2YXovUENBV0ctRG9ja2VyLVRlc3Q.</A>&gt;

Summary of my progress
-----------------------------------

- Pipelines: DKFZ (works), Sanger (doesn't work. fixed?), BWM-Mem (not integrated; missing data-preparation step), Broad (??)
- Donor integration: GNOS (works), IGCG (works)
- Comparison: DKFZ (missing filtering?), rest (waiting)

I have everything scripted so I can iterate a list of donors and download the data, run pipelines, erase data, compare results.

Missing things on my ToDo list
-------------------------------------------

- Integrate BWM-Mem by incorporating the initial step to de-align the BAM files
- Find a programmatic way to access the bundle-id files for each donor from ICGC data portal, righ now I have to go to the web page
- Add filtering step to DKFZ and other pipelines as they become usable.
- Change the scripting of the comparison to bash and add it to <A HREF="https://github.com/mikisvaz/PCAWG-Docker-Test&lt;http://redir.aspx/?REF=ifG4GCk_l3pNcH7e3HJrfA0cM0Gm2sNaFyX98swizIYp6Vk83w_UCAFodHRwczovL2dpdGh1Yi5jb20vbWlraXN2YXovUENBV0ctRG9ja2VyLVRlc3Q.">https://github.com/mikisvaz/PCAWG-Docker-Test&lt;http://redir.aspx/?REF=ifG4GCk_l3pNcH7e3HJrfA0cM0Gm2sNaFyX98swizIYp6Vk83w_UCAFodHRwczovL2dpdGh1Yi5jb20vbWlraXN2YXovUENBV0ctRG9ja2VyLVRlc3Q.</A>&gt;

Best regards to all

Miguel



On Tue, Nov 8, 2016 at 3:40 PM, Francis Ouellette &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">francis at oicr.on.ca</A>&lt;<A HREF="http://redir.aspx/?REF=WSDmaoJ3jmz2tDPVny13duJ4BUlEbh_-y7ecNxPVyIIp6Vk83w_UCAFtYWlsdG86ZnJhbmNpc0BvaWNyLm9uLmNh">http://redir.aspx/?REF=WSDmaoJ3jmz2tDPVny13duJ4BUlEbh_-y7ecNxPVyIIp6Vk83w_UCAFtYWlsdG86ZnJhbmNpc0BvaWNyLm9uLmNh</A>&gt;&gt; wrote:

Anybody else on our poll for next call?
Looks like Friday at 11:00. I will close poll later today.


@bffo



&lt;Screenshot 2016-11-08 09.38.56.png&gt;



_______________________________________________
docktesters mailing list
<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">docktesters at lists.icgc.org</A>&lt;<A HREF="http://redir.aspx/?REF=KK_VOfU2uNcbODGU4Lfr1y3ZGPez4FjPXh7X_ZQ_MS8p6Vk83w_UCAFtYWlsdG86ZG9ja3Rlc3RlcnNAbGlzdHMuaWNnYy5vcmc.">http://redir.aspx/?REF=KK_VOfU2uNcbODGU4Lfr1y3ZGPez4FjPXh7X_ZQ_MS8p6Vk83w_UCAFtYWlsdG86ZG9ja3Rlc3RlcnNAbGlzdHMuaWNnYy5vcmc.</A>&gt;
<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters&lt;http://redir.aspx/?REF=u-2uNMcWMGwMjsNB2mWtIgvNoHHVJeMtFa2HY-To8sAp6Vk83w_UCAFodHRwczovL2xpc3RzLmljZ2Mub3JnL21haWxtYW4vbGlzdGluZm8vZG9ja3Rlc3RlcnM.">https://lists.icgc.org/mailman/listinfo/docktesters&lt;http://redir.aspx/?REF=u-2uNMcWMGwMjsNB2mWtIgvNoHHVJeMtFa2HY-To8sAp6Vk83w_UCAFodHRwczovL2xpc3RzLmljZ2Mub3JnL21haWxtYW4vbGlzdGluZm8vZG9ja3Rlc3RlcnM.</A>&gt;







-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.icgc.org/mailman/private/docktesters/attachments/20161121/ae357f64/attachment-0001.html">https://lists.icgc.org/mailman/private/docktesters/attachments/20161121/ae357f64/attachment-0001.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000154.html">[DOCKTESTERS] Preliminary results for overlap between testing and original VCF
</A></li>
	<LI>Next message: <A HREF="000156.html">[DOCKTESTERS] DOCKTESTERS update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#155">[ date ]</a>
              <a href="thread.html#155">[ thread ]</a>
              <a href="subject.html#155">[ subject ]</a>
              <a href="author.html#155">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.icgc.org/mailman/listinfo/docktesters">More information about the docktesters
mailing list</a><br>
</body></html>
