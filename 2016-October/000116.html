<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [DOCKTESTERS] Broad dockers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:docktesters%40lists.icgc.org?Subject=Re%3A%20%5BDOCKTESTERS%5D%20Broad%20dockers&In-Reply-To=%3CCAJkv8nAhszjejz5eXx2Z0NpT6SFWXTLmJmAz%2B3cauzHBjDWH7w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000115.html">
   <LINK REL="Next"  HREF="000124.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[DOCKTESTERS] Broad dockers</H1>
    <B>Gordon Saksena</B> 
    <A HREF="mailto:docktesters%40lists.icgc.org?Subject=Re%3A%20%5BDOCKTESTERS%5D%20Broad%20dockers&In-Reply-To=%3CCAJkv8nAhszjejz5eXx2Z0NpT6SFWXTLmJmAz%2B3cauzHBjDWH7w%40mail.gmail.com%3E"
       TITLE="[DOCKTESTERS] Broad dockers">gsaksena at broadinstitute.org
       </A><BR>
    <I>Thu Oct 13 11:57:37 EDT 2016</I>
    <P><UL>
        <LI>Previous message: <A HREF="000115.html">[DOCKTESTERS] Broad dockers
</A></li>
        <LI>Next message: <A HREF="000124.html">[DOCKTESTERS] DKFZ bias filter docker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#116">[ date ]</a>
              <a href="thread.html#116">[ thread ]</a>
              <a href="subject.html#116">[ subject ]</a>
              <a href="author.html#116">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>1) I tested under Cromwell 0.19.3.  I will likely move over to 0.21 soon.
I used wdltool 0.4.

2) At the moment I have almost 20 dockers listed, including some that are
filters and some that have known buggy algorithms.  More discussion is
needed, probably both internally and externally, to develop a more stable
list and map out timelines.  Let me discuss more internal to Broad first
before sharing the list.

The intent is to allow users to both A) reproduce the PCAWG work, and B)
let them apply the algorithms to their own new project.

A) (reproducibility) could be mostly served by one big docker, as was run
in production, but there are currently issues around a) distributing the
aggregated panel of normals for MuTect and dRanger, b) some GPL code needs
to be unlinked from the mini-bam creator, and c) the MuTect-ContEst rescue
code needs to be patched in.   The one big docker is not ideal for B)
(re-application), due to the additional issues: a) wanting bug fixes, b)
you need to wait for algorithms you don't care about, c) the SV caller
algorithms demand a ton of RAM and CPU time on certain samples, making them
bad neighbors on cheap VMs, d) some algorithms (eg aggregators, filters)
have not been dockerized yet and would delay the release of others, and e)
even portions licensed for free commercial use would be bundled under the
more restrictive GATK license.

3) The GATK dual-license model is documented here:
<A HREF="https://software.broadinstitute.org/gatk/download/licensing.php">https://software.broadinstitute.org/gatk/download/licensing.php</A>
And, something like it will probably apply to certain portions that do not
use GATK.  We have no plans to use DRM.

Gordon

On Thu, Oct 13, 2016 at 10:46 AM, Denis Yuen &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">Denis.Yuen at oicr.on.ca</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i> Thanks for the heads-up, we'll look into these containers and see what we
</I>&gt;<i> can do in terms of testing them and getting them posted to the Dockstore.
</I>&gt;<i>
</I>&gt;<i> I do have a few questions:
</I>&gt;<i> 1) What versions of Cromwell and wdl4s was this portion of the pipeline
</I>&gt;<i> tested with?
</I>&gt;<i> 2) This release is for the tokens portion of the pipeline, how many
</I>&gt;<i> portions of the pipeline do you anticipate will be available in the end?
</I>&gt;<i> (and do you have a handy graph/chart that we can use to describe this?)
</I>&gt;<i> 3) For post-publication, are you thinking about a dual-license model (
</I>&gt;<i> something like <A HREF="https://www.quora.com/What-is-the-best-license-to-apply-on-">https://www.quora.com/What-is-the-best-license-to-apply-on-</A>
</I>&gt;<i> an-open-source-project-that-I-intend-to-sell-commercially-as-well ) or
</I>&gt;<i> are you thinking about some form of DRM in the Docker image?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i> *From:* docktesters-bounces+denis.yuen=<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">oicr.on.ca at lists.icgc.org</A>
</I>&gt;<i> [docktesters-bounces+denis.yuen=<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">oicr.on.ca at lists.icgc.org</A>] on behalf of
</I>&gt;<i> Gordon Saksena [<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">gsaksena at broadinstitute.org</A>]
</I>&gt;<i> *Sent:* October 12, 2016 3:11 PM
</I>&gt;<i> *To:* docktesters
</I>&gt;<i> *Cc:* Gad Getz
</I>&gt;<i> *Subject:* [DOCKTESTERS] Broad dockers
</I>&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I have approval for the Broad PCAWG dockers to go on the staging
</I>&gt;<i> (non-password protected) portion of Dockstore.  The Github Repo and
</I>&gt;<i> DockerHub image have permissions granted to folks who sent me their github
</I>&gt;<i> and docker usernames.  This should be adequate for the initial rounds of
</I>&gt;<i> testing.
</I>&gt;<i>
</I>&gt;<i> The tokens portion of the pipeline should be ready for folks to give it a
</I>&gt;<i> spin.  The non-protected reference files are passed in via http in the
</I>&gt;<i> inputs file, and it only needs the normal BAM.  It takes about 5 hours on a
</I>&gt;<i> full size file using a couple cores.  Other portions will be added as they
</I>&gt;<i> are split out and tested.
</I>&gt;<i>
</I>&gt;<i> While the current permissions setup is fine for testing, something
</I>&gt;<i> different will be needed for post publication.  Many of the algorithms are
</I>&gt;<i> (or will be) free only for educational or research use, but require a
</I>&gt;<i> separate license for commercial use.  We should discuss how that use case
</I>&gt;<i> can be supported, and whether it has implications on testing.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://hub.docker.com/r/broadinstitute/pcawg_tokens/">https://hub.docker.com/r/broadinstitute/pcawg_tokens/</A>
</I>&gt;<i> &lt;<A HREF="http://redir.aspx?REF=t2oyfEuDAgvNSbbfIv6vDmA3IdQFqBlgBMQyYyaIaE76V1PAdfPTCAFodHRwczovL2h1Yi5kb2NrZXIuY29tL3IvYnJvYWRpbnN0aXR1dGUvcGNhd2dfdG9rZW5zLw..">http://redir.aspx?REF=t2oyfEuDAgvNSbbfIv6vDmA3IdQFqBlgBMQyYyaIaE76V1PAdfPTCAFodHRwczovL2h1Yi5kb2NrZXIuY29tL3IvYnJvYWRpbnN0aXR1dGUvcGNhd2dfdG9rZW5zLw..</A>&gt;
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://github.com/broadinstitute/pcawg">https://github.com/broadinstitute/pcawg</A>
</I>&gt;<i> &lt;<A HREF="http://redir.aspx?REF=YRuHl29pr_J2zGxyN2fVpymfwWxOPaImHYhnj94xV5P6V1PAdfPTCAFodHRwczovL2dpdGh1Yi5jb20vYnJvYWRpbnN0aXR1dGUvcGNhd2c.">http://redir.aspx?REF=YRuHl29pr_J2zGxyN2fVpymfwWxOPaImHYhnj94xV5P6V1PAdfPTCAFodHRwczovL2dpdGh1Yi5jb20vYnJvYWRpbnN0aXR1dGUvcGNhd2c.</A>&gt;
</I>&gt;<i> <A HREF="https://github.com/broadinstitute/pcawg/blob/master/tasks/tokens/taskdef.">https://github.com/broadinstitute/pcawg/blob/master/tasks/tokens/taskdef.</A>
</I>&gt;<i> tokens.wdl
</I>&gt;<i> &lt;<A HREF="http://redir.aspx?REF=FGY08LTLLTocjDsGPbicTMRuN2l47cI66PmvalxNDgf6V1PAdfPTCAFodHRwczovL2dpdGh1Yi5jb20vYnJvYWRpbnN0aXR1dGUvcGNhd2cvYmxvYi9tYXN0ZXIvdGFza3MvdG9rZW5zL3Rhc2tkZWYudG9rZW5zLndkbA..">http://redir.aspx?REF=FGY08LTLLTocjDsGPbicTMRuN2l47cI66PmvalxNDgf6V1PAdfPTCAFodHRwczovL2dpdGh1Yi5jb20vYnJvYWRpbnN0aXR1dGUvcGNhd2cvYmxvYi9tYXN0ZXIvdGFza3MvdG9rZW5zL3Rhc2tkZWYudG9rZW5zLndkbA..</A>&gt;
</I>&gt;<i> <A HREF="https://github.com/broadinstitute/pcawg/blob/">https://github.com/broadinstitute/pcawg/blob/</A>
</I>&gt;<i> master/tasks/tokens/inputtest_http_refdata.tokens.json
</I>&gt;<i> &lt;<A HREF="http://redir.aspx?REF=TIcioMOk8LkXN0dYIggrha-l4JfAM0989TTSW2YBUkL6V1PAdfPTCAFodHRwczovL2dpdGh1Yi5jb20vYnJvYWRpbnN0aXR1dGUvcGNhd2cvYmxvYi9tYXN0ZXIvdGFza3MvdG9rZW5zL2lucHV0dGVzdF9odHRwX3JlZmRhdGEudG9rZW5zLmpzb24.">http://redir.aspx?REF=TIcioMOk8LkXN0dYIggrha-l4JfAM0989TTSW2YBUkL6V1PAdfPTCAFodHRwczovL2dpdGh1Yi5jb20vYnJvYWRpbnN0aXR1dGUvcGNhd2cvYmxvYi9tYXN0ZXIvdGFza3MvdG9rZW5zL2lucHV0dGVzdF9odHRwX3JlZmRhdGEudG9rZW5zLmpzb24.</A>&gt;
</I>&gt;<i>
</I>&gt;<i> Gordon
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.icgc.org/mailman/private/docktesters/attachments/20161013/9bb9b902/attachment-0001.html">https://lists.icgc.org/mailman/private/docktesters/attachments/20161013/9bb9b902/attachment-0001.html</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000115.html">[DOCKTESTERS] Broad dockers
</A></li>
	<LI>Next message: <A HREF="000124.html">[DOCKTESTERS] DKFZ bias filter docker
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#116">[ date ]</a>
              <a href="thread.html#116">[ thread ]</a>
              <a href="subject.html#116">[ subject ]</a>
              <a href="author.html#116">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.icgc.org/mailman/listinfo/docktesters">More information about the docktesters
mailing list</a><br>
</body></html>
