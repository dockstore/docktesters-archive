<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [DOCKTESTERS] Help request: get donor file information from ICGC DCC programmatically
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:docktesters%40lists.icgc.org?Subject=Re%3A%20%5BDOCKTESTERS%5D%20Help%20request%3A%20get%20donor%20file%20information%20from%0A%20ICGC%20DCC%20programmatically&In-Reply-To=%3CD51A34F8.73352%25junjun.zhang%40oicr.on.ca%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000320.html">
   <LINK REL="Next"  HREF="000322.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[DOCKTESTERS] Help request: get donor file information from ICGC DCC programmatically</H1>
    <B>Junjun Zhang</B> 
    <A HREF="mailto:docktesters%40lists.icgc.org?Subject=Re%3A%20%5BDOCKTESTERS%5D%20Help%20request%3A%20get%20donor%20file%20information%20from%0A%20ICGC%20DCC%20programmatically&In-Reply-To=%3CD51A34F8.73352%25junjun.zhang%40oicr.on.ca%3E"
       TITLE="[DOCKTESTERS] Help request: get donor file information from ICGC DCC programmatically">Junjun.Zhang at oicr.on.ca
       </A><BR>
    <I>Mon Apr 17 09:03:17 EDT 2017</I>
    <P><UL>
        <LI>Previous message: <A HREF="000320.html">[DOCKTESTERS] Help request: get donor file information from ICGC DCC programmatically
</A></li>
        <LI>Next message: <A HREF="000322.html">[DOCKTESTERS] sv-merge parameter questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#321">[ date ]</a>
              <a href="thread.html#321">[ thread ]</a>
              <a href="subject.html#321">[ subject ]</a>
              <a href="author.html#321">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Miguel,

That should work. For the 'export', if you'd like it's possible to add suitable filters so that the export only gives you file of interest, for example, only PCAWG files of certain type.

Cheers,
Junjun


From: &lt;docktesters-bounces+junjun.zhang=<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">oicr.on.ca at lists.icgc.org</A>&lt;mailto:docktesters-bounces+junjun.zhang=<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">oicr.on.ca at lists.icgc.org</A>&gt;&gt; on behalf of Miguel Vazquez &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&gt;&gt;
Date: Monday, April 17, 2017 at 6:39 AM
To: Denis Yuen &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">Denis.Yuen at oicr.on.ca</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">Denis.Yuen at oicr.on.ca</A>&gt;&gt;, Jonas Demeulemeester &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">Jonas.Demeulemeester at crick.ac.uk</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">Jonas.Demeulemeester at crick.ac.uk</A>&gt;&gt;
Cc: &quot;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">docktesters at lists.icgc.org</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">docktesters at lists.icgc.org</A>&gt;&quot; &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">docktesters at lists.icgc.org</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">docktesters at lists.icgc.org</A>&gt;&gt;, Dusan Andric &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">Dusan.Andric at oicr.on.ca</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">Dusan.Andric at oicr.on.ca</A>&gt;&gt;
Subject: Re: [DOCKTESTERS] Help request: get donor file information from ICGC DCC programmatically

Hi Jonas, Denis, and Dusan,

Jonas, the release_may2016 file you mention does indeed have some of the GNOS ids we would need but not all unfortunately. For instance the consensus vcf file is not there it seems.

Denis, Dusan. I think I figured out how to do this. I download the full tsv export with

curl -X GET --header 'Accept: text/tsv' '<A HREF="https://dcc.icgc.org/api/v1/repository/files/export?filters=%7B%7D">https://dcc.icgc.org/api/v1/repository/files/export?filters=%7B%7D</A>'

get all the files for a donor and the for each file I download the associated json info with

curl -X GET --header 'Accept: application/json' &quot;<A HREF="https://dcc.icgc.org/api/v1/repository/files/$file">https://dcc.icgc.org/api/v1/repository/files/$file</A>&quot;

There I can find the file name along with the ID's I need to download it.

Best

Miguel

On Wed, Apr 12, 2017 at 5:38 PM, Denis Yuen &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">Denis.Yuen at oicr.on.ca</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">Denis.Yuen at oicr.on.ca</A>&gt;&gt; wrote:

Hi,


As I understand it, there is an API for the portal <A HREF="http://docs.icgc.org/portal/api-endpoints/#/">http://docs.icgc.org/portal/api-endpoints/#/</A>

I'm going to also forward this to Dusan who may be able to point you at a more specific endpoint to use or in the correct direction.

________________________________
From: docktesters-bounces+denis.yuen=<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">oicr.on.ca at lists.icgc.org</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">oicr.on.ca at lists.icgc.org</A>&gt; &lt;docktesters-bounces+denis.yuen=<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">oicr.on.ca at lists.icgc.org</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">oicr.on.ca at lists.icgc.org</A>&gt;&gt; on behalf of Miguel Vazquez &lt;<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">miguel.vazquez at cnio.es</A>&gt;&gt;
Sent: April 11, 2017 1:01:14 PM
To: <A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">docktesters at lists.icgc.org</A>&lt;mailto:<A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">docktesters at lists.icgc.org</A>&gt;; Junjun Zhang
Subject: [DOCKTESTERS] Help request: get donor file information from ICGC DCC programmatically

Dear friends,

For our upcoming testing work on the filters I think we will be using the SNV and SV files that where submitted from the different providers and comparing with the resulting final VCFs. To access these I was planning to use GNOS or the ICGC client, for which we will need to specify the &quot;Object ID&quot; or &quot;Submitted Bundle ID&quot; that are found in the file pages of ICGC (e.g <A HREF="https://dcc.icgc.org/repositories/files/FI384359">https://dcc.icgc.org/repositories/files/FI384359</A>). For the normal and tumor BAMS and for the consensus VCF I was going to the site manually and extracting them, but it is tedious and error prone, and it's the only really manual thing in the scripts. It will be great to automate it.

Is there a programmatic way to find all the files for a donor, with the names, and then access for any of them the &quot;Object ID&quot; and &quot;Submitted Bundle ID&quot;?

Best regards

Miguel

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.icgc.org/mailman/private/docktesters/attachments/20170417/c7071b79/attachment.html">https://lists.icgc.org/mailman/private/docktesters/attachments/20170417/c7071b79/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000320.html">[DOCKTESTERS] Help request: get donor file information from ICGC DCC programmatically
</A></li>
	<LI>Next message: <A HREF="000322.html">[DOCKTESTERS] sv-merge parameter questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#321">[ date ]</a>
              <a href="thread.html#321">[ thread ]</a>
              <a href="subject.html#321">[ subject ]</a>
              <a href="author.html#321">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.icgc.org/mailman/listinfo/docktesters">More information about the docktesters
mailing list</a><br>
</body></html>
