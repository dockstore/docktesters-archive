<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [DOCKTESTERS]  BWA-Mem final
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:docktesters%40lists.icgc.org?Subject=Re%3A%20%5BDOCKTESTERS%5D%20%20BWA-Mem%20final&In-Reply-To=%3C4D1F0763-E42B-4550-8EC0-9BF4CF36439C%40crick.ac.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000336.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[DOCKTESTERS]  BWA-Mem final</H1>
    <B>Jonas Demeulemeester</B> 
    <A HREF="mailto:docktesters%40lists.icgc.org?Subject=Re%3A%20%5BDOCKTESTERS%5D%20%20BWA-Mem%20final&In-Reply-To=%3C4D1F0763-E42B-4550-8EC0-9BF4CF36439C%40crick.ac.uk%3E"
       TITLE="[DOCKTESTERS]  BWA-Mem final">Jonas.Demeulemeester at crick.ac.uk
       </A><BR>
    <I>Thu May  4 05:26:19 EDT 2017</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000336.html">[DOCKTESTERS] BWA-Mem final
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#335">[ date ]</a>
              <a href="thread.html#335">[ thread ]</a>
              <a href="subject.html#335">[ subject ]</a>
              <a href="author.html#335">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

Apologies for the delay in reporting back on this, I was out and we&#8217;re currently in the process of upgrading our compute infrastructure to OpenStack 10.
Before documenting our findings, I ran one last test on the BWA-Mem docker to confirm that it is indeed the read order in the BAMs that was causing the 3&#8211;4% mismatch rates, and not some artefact/error of our BAM resetting procedures.

Briefly, I simply shuffled the read order in the original unmapped lane-level BAMs for DO51057 (keeping pairs together) and remapped them using the BWA-Mem docker (BAMs fed in the same order).
Results for the normal are:

Lines: 1124984372
Matches: 1049339853
Misses: 41820223
Soft: 33824296


and for the tumour:

Lines: 1010510325
Matches: 933112344
Misses: 38856341
Soft: 38541640

Which show 3.7% and 3.8% mismatch rates, respectively &#8211; approx. two orders of magnitude higher than when using the same BAM files with the reads in the original order.
These rates are similar to what we saw in the initial tests when running on our own unaligned BAM files generated from the final mapped ones.
Taken together with our previous results, this confirms read order within BAMs as the main source of the original discrepancies.

I&#8217;ll now proceed to document the results on the BWA-Mem workflow docker github page and in the manuscript, and will continue with the other docker containers as well.

Cheers,
Jonas



_________________________________
Jonas Demeulemeester, PhD
Postdoctoral Researcher
The Francis Crick Institute
1 Midland Road
London
NW1 1AT

T: +44 (0)20 3796 2594
M: +44 (0)7482 070730
E: <A HREF="https://lists.icgc.org/mailman/listinfo/docktesters">jonas.demeulemeester at crick.ac.uk</A>&lt;%22mailto:&gt;
W: www.crick.ac.uk&lt;%22<A HREF="http://">http://</A>&gt;


The Francis Crick Institute Limited is a registered charity in England and Wales no. 1140062 and a company registered in England and Wales no. 06885462, with its registered office at 1 Midland Road London NW1 1AT
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.icgc.org/mailman/private/docktesters/attachments/20170504/61d7814e/attachment.html">https://lists.icgc.org/mailman/private/docktesters/attachments/20170504/61d7814e/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000336.html">[DOCKTESTERS] BWA-Mem final
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#335">[ date ]</a>
              <a href="thread.html#335">[ thread ]</a>
              <a href="subject.html#335">[ subject ]</a>
              <a href="author.html#335">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.icgc.org/mailman/listinfo/docktesters">More information about the docktesters
mailing list</a><br>
</body></html>
